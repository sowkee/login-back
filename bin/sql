create table users (
ID NUMBER GENERATED BY DEFAULT AS IDENTITY 
    MINVALUE 1 MAXVALUE 9999999999999999999999999999 
    INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE 
    PRIMARY KEY NOT NULL,
    name varchar2(50) not null,
    lastName varchar(50) not null,
    phoneNumber varchar2(13) not null,
    password varchar2(100) not null,
    createDate TIMESTAMP not null,
    email varchar2(100) not null
);
create table otp (
     ID NUMBER GENERATED BY DEFAULT AS IDENTITY 
    MINVALUE 1 MAXVALUE 9999999999999999999999999999 
    INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE 
    PRIMARY KEY NOT NULL,
    createDate TIMESTAMP not null,
    otp varchar2(6) not null,
    comunication_id number not null,
    statusOtp_id number not null,
    user_id number not null,
    foreign key (user_id) references users(id),
    foreign key (statusOtp_id) references statusOtp(id),
    foreign key (comunication_id)references comunication(id)
);
create table statusOtp(
     ID NUMBER GENERATED BY DEFAULT AS IDENTITY 
    MINVALUE 1 MAXVALUE 9999999999999999999999999999 
    INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE 
    PRIMARY KEY NOT NULL,
    sent varchar2(20)not null,
    deleted varchar2(20)not null,
    verified varchar2(20)not null
);
create table comunication(
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY 
    MINVALUE 1 MAXVALUE 9999999999999999999999999999 
    INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE 
    PRIMARY KEY NOT NULL,
<<<<<<< HEAD
    NAME VARCHAR2(100) NOT NULL,
    LASTNAME VARCHAR2(100) NOT NULL,
    EMAIL VARCHAR2(100),
    PHONE_NUMBER VARCHAR2(100),
    PASSWORD VARCHAR2(100) NOT NULL
);

CREATE TABLE ROLES (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY
    MINVALUE 1 MAXVALUE 9999999999999999999999999999
    INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE
    PRIMARY KEY NOT NULL,
    ROL_NAME VARCHAR2(20) NOT NULL
);

CREATE TABLE USER_ROLES (
  USER_ID NUMBER,
  ROL_ID NUMBER,
  CONSTRAINT FK_USER_ROLES_USERS FOREIGN KEY (USER_ID) REFERENCES USERS (ID),
  CONSTRAINT FK_USER_ROLES_ROLES FOREIGN KEY (ROL_ID) REFERENCES ROLES (ID),
  CONSTRAINT PK_USER_ROLES PRIMARY KEY (USER_ID, ROL_ID)
);

CREATE TABLE OTP_CODES (
    "ID" NUMBER GENERATED BY DEFAULT AS IDENTITY
    MINVALUE 1 MAXVALUE 9999999999999999999999999999
    INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER
    NOCYCLE  NOKEEP  NOSCALE  NOT NULL PRIMARY KEY,
    "D_CREATE" DATE NOT NULL,
    "OTP" VARCHAR2(100 BYTE) NOT NULL,
    "OPERATION" VARCHAR2(100 BYTE) NOT NULL,
    "COMUNICATION" VARCHAR2(100 BYTE) NOT NULL,
    "ID_USER" NUMBER NOT NULL,
    FOREIGN KEY (ID_USER) REFERENCES USERS(ID)
);

CREATE UNIQUE INDEX UQ_USER_ROLES_USER_ROLE ON USER_ROLES (USER_ID, ROL_ID);
=======
    sms varchar2(100),
    email varchar(100)
);
create table account(
     ID NUMBER GENERATED BY DEFAULT AS IDENTITY 
    MINVALUE 1 MAXVALUE 9999999999999999999999999999 
    INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE 
    PRIMARY KEY NOT NULL,
    originNumber varchar2(13) not null,
    balance number not null,
    createDate TIMESTAMP not null,
    user_id number not null,
    foreign key (user_id) references users(id)
);
create table transactions(
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY 
    MINVALUE 1 MAXVALUE 9999999999999999999999999999 
    INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE 
    PRIMARY KEY NOT NULL,
    createDate TIMESTAMP not null,
    originNumber varchar2(15),
    destinationAccount varchar2(50),
    amount number not null,
    reference varchar2(10),
    description varchar2(100),
    account_id number not null,
    statusTransactions_id number not null,
    foreign key (account_id) references account (id), 
    foreign key (statusTransactions_id) references transactions(id)
);
create table statusTransactions(
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY 
    MINVALUE 1 MAXVALUE 9999999999999999999999999999 
    INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE 
    PRIMARY KEY NOT NULL,
    sent varchar2(20),
    retired varchar2(20),
    cancelled varchar2(20)
);
create table pocket(
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY 
    MINVALUE 1 MAXVALUE 9999999999999999999999999999 
    INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE 
    PRIMARY KEY NOT NULL,
    name varchar2(50) not null,
    createDate TIMESTAMP not null,
    amount varchar2(50) not null,
    account_id number not null,
    foreign key (account_id) references account(id)
);
>>>>>>> 5468f53ac6d4d2a45395015ce3066bdd3df3fa1b
